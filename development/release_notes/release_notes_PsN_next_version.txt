This PsN version has been tested on the following systems:

Windows 10 64-bit with Strawberry Perl 5.22.1 , gfortran 4.9.2 and NONMEM 7.2.0 and 7.3.0
Windows 7 64-bit with ActivePerl 5.20.1 (32 bit), gfortran 4.8.1 and NONMEM 7.3.0
Windows 7 64-bit with ActivePerl 5.16.3 (32 bit), gfortran 4.6.0 and NONMEM 7.3.0
Windows 7 64-bit with Strawberry Perl 5.18.2, gfortran 4.7.3 and NONMEM 7.2.0 and 7.3.0
Windows XP 32-bit with ActivePerl 5.16.3, gfortran 4.6.0 and NONMEM 7.1.0, 7.1.2 and 7.2.0
MacOS X 10.11.4 with Perl 5.18.2, gfortran 5.2.0 and NONMEM 7.3.0
MacOS X 10.6.6 with ActiveState Perl 5.16.3, gfortran 4.6.2 and NONMEM 7.3.0
MacOS X 10.6.6 with ActiveState Perl 5.16.3, ifort 12.0.0 and NONMEM 7.2.0 and 7.3.0
Ubuntu Linux 15.10 with Perl 5.20.2, gfortran 5.2.1 and NONMEM 7.2.0 and 7.3.0
Fedora 20 with Perl 5.18.2, gfortran 4.8.2 and NONMEM 7.2.0
Scientific Linux 6.3 with Perl 5.10.1, gfortran 4.4.7 and NONMEM 7.2.0 and 7.3.0
Scientific Linux 6.3 with Perl 5.10.1, gfortran 5.1.1 and NONMEM 7.3.0
CentOS 6.5 with Perl 5.10.1, gfortran 4.4.7 and NONMEM 7.1.0, 7.1.2 and 7.3.0


************************
Installation
************************

Follow the installation instructions on
http://psn.sourceforge.net/install.php

************************
Documentation
************************
All documentation is found in the doc subdirectory of the PsN 
installation directory. During installation it is also possible 
to have all documentation copied to a user-specified directory.

All documentation can also be downloaded from
the PsN website http://psn.sourceforge.net/

************************
Dependencies 
************************

- It is recommended to use Xpose version 4.5.3 or later for the -cwres functionality 
  and the default execute, vpc and bootstrap R plots.

- Each userguide lists the R packages required to obtain the diagnostic R plots.
************************
Known issues 
************************

- Windows users need to be careful to choose 
  a Perl version where the extra modules needed for PsN are available. 
  For new Perl installations the PsN team recommends Strawberry Perl
  See the instructions on http://psn.sourceforge.net/install.php

- Installation problem on some Windows systems where 
  perl 'system' command does not work. Make sure perl module File::Copy::Recursive
  is installed *before* (re)running the installation script setup.pl

*********************************************
Changes and bug fixes from PsN 4.6.0 to n.n.n
*********************************************

A new recommended but not required Perl library for runrecord: YAML::Tiny 



   ___General___

- PsN has updated its license. It is still licensed under the GNU public license version 2, but
it is now possible to relicense PsN under any later versions of this license.
- Bug fix: Some generated paths for the Rplots script were illegal R strings causing R to crash
- Runs where any of the models have $NONPARAMETRIC will now get an additional file in the main
  run directory: raw_nonparametric_results.csv, containing regular ofv, nonparametric ofv, etc
- The handling of $MSFI and MSFO=file has been redesigned. MSF-files never have to be
  listed with -extra_files or -extra_output.
- Bug fix: PsN can now handle $MSFI including/path/to/file.msf  

   ___common_options___

- Option -abort_on_fail has a new meaning and function. The option is intended for the system tests.
  If set, PsN will exit with an error if NONMEM crashes, or an estimation/evaluation fails to
  produce an ofv, or a simulation gives a typical error message in the lst-file.

   ___NONMEM output parsing___

- Bug fix: Handle error message "0ERROR IN READING FILE : FCON" in
  eigenvalue section of lst-file.
- Bug fix: If the execution of a $PROBLEM stops before any output is produced, consider the
  NONMEM run failed only if it is the first $PROBLEM. For example, if the first $PROBLEM is
  an estimation and the second a simulation, and the estimation completes but the simulation
  is not initiated due to e.g. poor estimation results, then PsN will no longer treat the run
  as crashed.
  
   ___Cluster/Grid___

- When -run_on_torque is set, PsN will now add -d <full path to NM_run subdirectory>
  to the qsub command. The qsub command will be saved to file qsubcommand in the
  NM_run subdirectory, for easier debugging.

   ___Test scripts___

- The temp directory for the unit and system tests is configurable in psn.conf. See
  Testing chapter in developers_guide.pdf.
- runsystem will redirect PsN log messages to a file in the user's home directory,
  or a directory set in psn.conf. See Testing chapter in developers_guide.pdf.

   ___runrecord___

- Option -to is no longer required. The default value is the highest run number found in
  an uninterrupted sequence of files <root>1.<mod_ext>, <root>2.<mod_ext>,... etc.

New features implemented by William S. Denney of Human Predictions:
- Output to .csv using a sufficient part of RFC 4180 [https://tools.ietf.org/html/rfc4180]
  to handle commas and quotes (optionally, not by default).
- Optionally output to .csvy files (.csv files with a YAML header; readable by the rio R
  library).  Columns can now have attributes like parameter type
  ('theta', 'omega', ...). The YAML header requires the YAML::Tiny Perl library,
  if it is not installed the header will have text format.
- Automatically detect if the output file has the extension "csv" or "csvy" and output to
  the csv/csvy format if yes and another output format has not been specifically requested.
- Automatically detect max_lvl (optionally, by default)
- Give a header column name to the child run headers to more easily distinguish them from
  empty column headers (which now should not exist) (optionally, by default).


   ___sumo___

- Bug fix: The message stating that there is no gradient information after an SAEM run was duplicated
- The checks for large relative standard errors were removed together with the options to set the limits.
- A new message when the NONMEM run failed, i.e. estimations/evaluation failed to produce an ofv,
  or when simulation had special error message in lst-file.
- Do not print message about rounding errors or parameter near boundary if the NONMEM run failed.

   ___bootstrap___

- Warn if the number of individuals in the data set is different from the number if individuals
  NONMEM printed in the original run lst-file.

   ___vpc/npc___


   ___frem___

-  will, if a covariate-covariate correlation is exactly 0, set intial omega estimate corresponding to 1% correlation in Model 2. Similarly in Model3, if correlation from phi-file exactly 0, or parameter-parameter covariance has to be added to create full block, then set initial estimate as 1% correlation
-  handle PRED-models without EVID/MDV column, i.e. all data records are observations.
-  handle model 2 phi file ETA all 0
-  new option -mu, i.e. use mu-modelling for added covariates. Not set by default.
-  new option -estimate_means to true. When option -estimate_means is set, only covariates which have missing observations in the frem dataset will have the mean estimated. If -no-estimate_means is set, no means will be estimated regardless of missing observations.
-  rearranged control stream changes. Now all frem code is put last in $PRED/$ERROR and no new variables are defined (this is needed for very large numbers of covariates). New option -estimate_means, default not set. If set then estimate covariate means instead of setting FIX to mean from observed data, new option -mceta, default not set. Set MCETA=N in last $ESTIMATION. New option -deriv2_nocommon_maxeta. Default 60. Set $ABBREVIATED DERIV2=NOCOMMON if number of ETAs is larger than this number.
-  put intermediate models in subdir intermediate_models instead of in m1. Handle PHI in addition to ETA in phi-file (non-classical methods), and multiple $EST (only results from last est are used).
-  set NONINFETA=1 in last estimation if it is a classical method and NM-version > 7.2.
-  new postprocessing script postfrem 
-  Rescale option is now default on.
-  Create approximate proposal density for sir even if covariance step of Model 4 is successful.

   ___mcmp___


   ___scm___

- Disallow restarts in existing directory as this operation did not work
- scm will treat . (dot) in covariate column of data set as missing value 
- bug fix option time-varying: handle PRED models without MDV in $INPUT

- Change the default lower bounds for the THETA in power and exponential
  parameterizations from -100000 to -100.
- Removed special use of common option -abort_on_fail.

   ___linearize___
- bug fix option time-varying: handle PRED models without MDV in $INPUT


___boot_scm___

- Disallow restarts in existing directory as this operation did not work


   ___xv_scm___

- Disallow restarts in existing directory as this operation did not work


   ___sse___ 

- New option -update_fix

   ___simeval___


   ___update_inits___

-  New options -rawres_input, -in_filter, -offset_rawres to read parameter estimates from a raw results file.
-  Bug fix: renumber MSFO=file in $NONPARAMETRIC

   ___sir___
	
- new option -cap_correlation, default 0.8. If set to a number between 0 and 1, at every iteration ensure that no absolute value of a correlation in the proposal exceeds this number.
- message suggesting reparameterization if any correlations exceed 0.8 (before or after capping)
- updated R template
- changed inflation principle, covariances are not inflated meaning that correlations are in practice decreased 

   ___nmoutput2so___


   ___pvar___

- Add OFV and run number columns to results.csv

   ___rplots___

- Major redesign

   ___npfit___
- New tool npfit for nonparametric estimation.
