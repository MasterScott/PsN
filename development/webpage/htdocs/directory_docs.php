<h2>Directory Structure </h2>

  <p align="justify">Here follows an example directory listing. This
particular run is from an <strong>scm</strong> with five parameter
covariate relations. The files and directories are listed in roughly
the order they were created.</p>
  <p align="justify"> The names, order or existance of files and
directories are not set in stone, but they should give you an idea of
what a PsN tool run can produce. Click on the highlighted direcories
and files to display a summary of their function. </p>
  <table class="directory-structure">
    <tr>
      <td colspan="4"><tt><img src="graphics/folder_open.png" width="27" height="22" hspace="5" align="absbottom">scm_dir1</tt></td>
    </tr>
    <tr>
      <td width="4%"><tt></tt></td>
      <td colspan="3"><tt onClick="MM_showHideLayers('origmodelfitdir','','show','nmrun','','hide')"><img src="graphics/folder_open.png" width="27" height="22" hspace="5" align="absbottom"><a name="origmodelfitdir"></a><a href="#origmodelfitdir" onClick="MM_showHideLayers('origmodelfitdir','','show','nmrun','','hide','m11','','hide','m12','','hide','modelfit','','hide','logs','','hide','scm','','hide')">orig_modelfit_dir1</a></tt></td>
    </tr>
    <tr>
      <td><tt></tt></td>
      <td width="4%"><tt></tt></td>
      <td colspan="2"><tt onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','show')"><img src="graphics/folder_open.png" width="27" height="22" hspace="5" align="absbottom"><a name="nmrun"></a><a href="#nmrun" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','show','m11','','hide','m12','','hide','modelfit','','hide','logs','','hide','scm','','hide')">NM_run1</a></tt></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td width="4%">&nbsp;</td>
      <td width="88%"><dl>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FCON</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FCON.0</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FCON.1</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FCON.orig</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FDATA</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FREPORT</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FSTREAM</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FSUBS</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">FSUBS.f</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">LINK.LNK</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">PRDERR</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">compilation_output.txt</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">data6_multi.dta</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">data6_single.dta</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">done</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">get_sub0.f</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">msf5</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">psn.lst</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">psn.lst.0</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">psn.lst.1</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">psn.mod</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">reader0.f</code></dt>
      </dl></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td colspan="2"><tt><img src="graphics/folder_open.png" width="27" height="22" hspace="5" align="absbottom"><a name="m11"></a><a href="#m11" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','show','m12','','hide','modelfit','','hide','logs','','hide','scm','','hide')">m1</a></tt></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">prepared_models.log</code></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td colspan="2"><dl>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">model_NMrun_translation.txt</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">modelfit.log</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">resume.file</code></dt>
      </dl></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td colspan="3"><tt onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','hide','m12','','show')"><img src="graphics/folder_open.png" width="27" height="22" hspace="5" align="absbottom"><a name="m12"></a><a href="#m12" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','hide','m12','','show','modelfit','','hide','logs','','hide','scm','','hide')">m1</a></tt></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td colspan="2"><dl>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BAAGE2.mod</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BAALKO2.mod</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BASEX2.mod</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BASMOK2.mod</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="1" align="absbottom">BAWT2.mod</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BAAGE2.lst</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BAALKO2.lst</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BASEX2.lst</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BASMOK2.lst</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">BAWT2.lst</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">done</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">done.log</code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">prepared_models.log</code></dt>
      </dl></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td colspan="3"><tt><img src="graphics/folder_open.png" width="27" height="22" hspace="5" align="absbottom"><a name="modelfit"></a><a href="#modelfit" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','hide','m12','','hide','modelfit','','show','logs','','hide','scm','','hide')">modelfit_dir1</a></tt></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td colspan="2"><p><tt><img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">NM_run1<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">NM_run2<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">NM_run3<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">NM_run4<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">NM_run5<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">m1<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">m2<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">m3<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">m4<br>
                <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">m5 <br>
          </tt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">model_NMrun_translation.txt<br>
      </code><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">resume.file</code></p></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td colspan="3"><tt><img src="graphics/folder_open.png" width="27" height="22" hspace="5" align="absbottom"><a name="scm"></a><a href="#scm" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','hide','m12','','hide','modelfit','','hide','logs','','hide','scm','','show')">scm_dir1</a></tt></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td colspan="2"><tt><img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">m1<br>
            <img src="graphics/folder.png" width="20" height="22" hspace="5" align="absbottom">modelfit_dir1 <br>
            <code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom">modelfit1.log</code></tt></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td colspan="3"><dl>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom"><a name="logs"></a><a href="#logs" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','hide','m12','','hide','modelfit','','hide','logs','','show','scm','','hide')">modelfit1.log</a></code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom"><a href="#logs" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','hide','m12','','hide','modelfit','','hide','logs','','show','scm','','hide')">psn_results.csv</a></code></dt>
          <dt><code><img src="graphics/file.png" width="20" height="21" hspace="5" vspace="2" align="absbottom"><a href="#logs" onClick="MM_showHideLayers('origmodelfitdir','','hide','nmrun','','hide','m11','','hide','m12','','hide','modelfit','','hide','logs','','show','scm','','hide')">scmlog_parallel1.txt</a></code></dt>
          <dd><code></code></dd>
      </dl></td>
    </tr>
  </table>
</div>
<div id="origmodelfitdir" style="position:absolute; left:495px; top:328px; width:261px; height:152px; z-index:3; visibility: hidden;">

  <div align="left">This is the <code>orig_modelfit_dir1</code> which
is created for any input model which is not run prior to the PsN
tool. The most important files in this directory is
<tt>model_NMrun_translation.txt</tt> which lists the names of the
original model file names and in which <tt>NM_run</tt> directory they
have been run. The <tt>modelfit.log</tt> which lists a brief summary
for each NONMEM run, and whether it was successful or not. </div>
</div>

<div id="nmrun" style="position:absolute; left:495px; top:328px; width:261px; height:309px; z-index:3; visibility: hidden;">

  <p align="left">This is a typical NONMEM run directory. This is the
ordinary output from NONMEM with a few additions. The model that is
run is in <tt>psn.mod</tt> and the corresponding output is in
<tt>psn.lst</tt>. In this particular run the data set was to wide for
NONMEM so it has been split into two <tt>data6_multi.dta</tt> and
<tt>data6_single.dta</tt>. To make NONMEM cope with the extra data
there is extra fortran code in <tt>reader0.f</tt> and
<tt>get_sub0.f</tt>, there may be more files like this, they will be
named <tt>reader1.f</tt>, <tt>reader2.f</tt> and so forth.</p>

  <p align="left">Special for this run is the <tt>FCON.0</tt>,<tt>
FCON.1</tt>,<tt> psn.lst.0</tt> and <tt>psn.lst.1</tt>. They come from
the reruns that PsN does when NONMEM fails. In the <tt>FCON</tt> files
are new intial estimates and in <tt>psn.lst</tt> is the result for
each rerun. <tt>FCON.orig</tt> is the original file that
<tt>nmtran</tt> created and <tt>FCON</tt> corresponds to the last
run. </p> 

</div>

<div id="m11" style="position:absolute; left:495px; top:921px; width:261px; height:152px; z-index:3; visibility: hidden;">
  <div align="left">The <tt>m1</tt> directory is not very interesting for modelfit directories. Look at the <tt>m1</tt> directory for the scm further down. </div>
</div>
<div id="m12" style="position:absolute; left:495px; top:1037px; width:261px; height:152px; z-index:3; visibility: hidden;">

  <div align="left">In the scm the <tt>m1</tt> directories contain
what we call prepared models. Before the scm step is run we creat all
modelfiles that will be evaluated in this directory. When the
execution is finished we place the ouput files here, also ther is the
<tt>done</tt> file which is created when the scm step is finished (It
is used by PsN in resume mode, to figure out if this step needs to be
redone). <tt>done.log</tt> and <tt>prepared_models.log</tt> is for
internal PsN use only. You should not rely on them for information.

</div> 
</div> 

<div id="modelfit" style="position:absolute; left:495px; top:1388px; width:261px; height:152px; z-index:3; visibility: hidden;">

  <div align="left">This is the modelfit directory for the scm, in
here you may find all of the models for this scm step that have been
completed. It follows the same structure as
<tt>orig_modelfit_dir1</tt> above. The files listed in
<tt>model_NMrun_translation.txt</tt> refers to files in the
<tt>m1</tt> directory.

</div> 
</div> 

<div id="logs" style="position:absolute; left:495px; top:1772px;width:261px; height:44px; z-index:3; visibility: hidden;">

  <div align="left">These are the log files for the outermost tool, the scm in this case. </div>

</div>

<div id="scm" style="position:absolute; left:495px; top:1681px; width:261px; height:152px; z-index:3; visibility: hidden;">

  <div align="left">This scm directory contains the files created by
the second scm step. It follows the same structure as the current scm
directory. When the scm finishes no further scm directories are
created. Possibly there is a <tt>scm_dir2</tt> in the top level scm ,
then in <tt>scm_dir2</tt> is the files created for the backwards step.

</div> 
