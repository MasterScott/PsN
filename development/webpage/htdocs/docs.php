<h2>User Documentation</h2>

  All pdf documents listed below as a <a href="pdfdocs/PsN_pdf_documentation.tar.gz" target="_blank"><strong>tar.gz</strong></a> or
<a href="pdfdocs/PsN_pdf_documentation.zip" target="_blank"><strong>zip</strong></a> archive.
  <h3>Before running PsN</h3>
  <dl>
    <dt><a href="pdfdocs/psn_installation.pdf" target="_blank"><strong>Installation</strong></a></dt>
    <dt><a href="pdfdocs/psn_configuration.pdf" target="_blank"><strong>Configuration</strong></a></dt>
    <dt><a href="pdfdocs/PsN_and_NONMEM7.pdf" target="_blank"><strong>PsN and NONMEM7</strong></a></dt>
    <dt><a href="pdfdocs/known_bugs_and_workarounds.pdf" target="_blank"><strong>Known bugs and workarounds</strong></a></dt>
  </dl>
  <h3>Programs/scripts available in PsN</h3>
  <dl>
    <dt><a href="pdfdocs/common_options_defaults_versions_psn.pdf" target="_blank"><strong>psn</strong></a></dt>
    <dd>List available PsN scripts.</dd>

    <dt><a href="pdfdocs/common_options_defaults_versions_psn.pdf" target="_blank"><strong>psn_options</strong></a></dt>
    <dd>List options common to most PsN scripts.</dd>

    <dt><a href="pdfdocs/execute_userguide.pdf" target="_blank"><strong>execute</strong></a></dt>
    <dd>NONMEM runs are started using one or multiple model files.</dd>

    <dt><a href="pdfdocs/execute_userguide.pdf" target="_blank"><strong>parallel_retries</strong></a></dt>
    <dd>Run multiple copies of a single model with tweaked initial estimates in parallel.</dd>

    <dt><a href="pdfdocs/update_inits_userguide.pdf" target="_blank"><strong>update_inits</strong></a></dt>
    <dd> Update a model file with parameter estimates from NONMEM output.</dd>

    <dt><a href="pdfdocs/bootstrap_userguide.pdf" target="_blank"><strong>bootstrap</strong></a></dt>
    <dd>Bootstrap using the percentile or BCa method.</dd>

    <dt><a href="pdfdocs/randtest_userguide.pdf" target="_blank"><strong>randtest</strong></a></dt>
    <dd>Randomization testing.</dd>

    <dt><strong>rawresults</strong></dt>
    <dd>Create a rawresults file from a set of list files.</dd>

    <dt> <a href="pdfdocs/sse_userguide.pdf" target="_blank"><strong>sse</strong></a> </dt>
    <dd>Stochastic Simulation and Estimation</dd>

    <dt> <a href="pdfdocs/vpc_npc_userguide.pdf" target="_blank"><strong>npc</strong></a></dt> 
    <dd>Numerical Predictive Check</dd>
    
    <dt> <a href="pdfdocs/vpc_npc_userguide.pdf" target="_blank"><strong>vpc</strong></a></dt>
    <dd>Visual Predictive Check<br>
Two-page poster on <a href="http://www.page-meeting.org/?abstract=1604" target="_blank"><strong>Visual Predictive Checks for censored and categorical data</strong></a><br>
Separate description of <a href="pdfdocs/vpc_binning.pdf" target="_blank"><strong>automatic binning in vpc</strong></a>
</dd>
    
    <dt><a href="pdfdocs/cdd_userguide.pdf" target="_blank"><strong>cdd</strong></a></dt>
    <dd>Case Deletion Diagnostics</dd>

    <dt><a href="pdfdocs/ebe_npde_userguide.pdf" target="_blank"><strong>ebe_npde</strong></a></dt>
    <dd>Normalized prediction distribution errors applied on empirical bayes estimates</dd>

    <dt><a href="pdfdocs/frem_userguide.pdf" target="_blank"><strong>frem</strong></a></dt>
    <dd>Full random effects modeling</dd>

		<dt><a href="pdfdocs/llp_userguide.pdf" target="_blank"><strong>llp</strong></a></dt>
    <dd>Log-Likelihood Profiling around maximum-likelihood parameter estimates.</dd>
    
    <dt><a href="pdfdocs/scm_userguide.pdf" target="_blank"><strong>scm</strong></a></dt>
    <dd>Stepwise Covariate Model-building <br>
Some extensively commented example/template configuration files for scm:<br>
<a href="pdfdocs/config_template_standard.scm" target="_blank"><strong>Standard template</strong></a><br>
<a href="pdfdocs/config_template_backward.scm" target="_blank"><strong>Backward search template</strong></a><br>
<a href="pdfdocs/config_template_linearize.scm" target="_blank"><strong>Linearization template</strong></a><br>
<a href="pdfdocs/config_different_parameterizations_different_covariates.scm" target="_blank"><strong>Different parameterizations for different covariates</strong></a><br>
<a href="pdfdocs/config_all_default_parameterizations_explicitly.scm" target="_blank"><strong>All default parameterizations explicitly using code section</strong></a><br>
<a href="pdfdocs/config_grouping_categorical_covariate.scm" target="_blank"><strong>Grouping of categorical covariate</strong></a><br>
<a href="pdfdocs/config_centering_bivariate_covariate.scm" target="_blank"><strong>Centering of bivariate covariate</strong></a><br>
<a href="pdfdocs/config_emax_and_other_parameterizations.scm" target="_blank"><strong>Emax and other special parameterizations</strong></a><br>
</dd>

    <dt><a href="pdfdocs/xv_scm_userguide.pdf" target="_blank"><strong>xv_scm</strong></a></dt>
    <dd>Cross-validated Stepwise Covariate Model-building</dd>
  
    <dt><a href="pdfdocs/boot_scm_userguide.pdf" target="_blank"><strong>boot_scm</strong></a></dt>
    <dd>Bootstrapped Stepwise Covariate Model-building</dd>
  
    <dt> <a href="pdfdocs/lasso_userguide.pdf" target="_blank"><strong>lasso</strong></a> </dt>
    <dd>Covariate model building using the lasso method</dd>

    <dt><a href="pdfdocs/runrecord_userguide.pdf" target="_blank"><strong>runrecord guide</strong></a>
<a href="pdfdocs/runrecord_template.xls" target="_blank"><strong>runrecord template</strong></a></dt>
    <dd>RunRecord</dd>
  
    <dt><a href="pdfdocs/mcmp_userguide.pdf" target="_blank"><strong>mcmp</strong></a></dt>
    <dd>Monte-Carlo Mapped Power.</dd>

    <dt><a href="pdfdocs/mimp_userguide.pdf" target="_blank"><strong>mimp</strong></a></dt>
    <dd>Multiple imputation</dd>
    
    <dt><a href="pdfdocs/nca_userguide.pdf" target="_blank"><strong>nca</strong></a></dt>
    <dd>Non-compartmental analysis</dd>
    
    <dt><a href="pdfdocs/pvar_userguide.pdf" target="_blank"><strong>pvar</strong></a></dt>
    <dd>Parametric variability</dd>

		<dt><a href="pdfdocs/gls_userguide.pdf" target="_blank"><strong>gls</strong></a></dt>
    <dd>Generalized Least Squares approximations of the residual error model</dd>
    
    <dt><a href="pdfdocs/sumo_userguide.pdf" target="_blank"><strong>sumo</strong></a></dt>
    <dd>Summary of Output from NONMEM</dd>
    
    <dt><a href="pdfdocs/linearize_userguide.pdf" target="_blank"><strong>linearize</strong></a></dt>
    <dd>Linearize a model.</dd>
    
    <dt> <strong>data_stats</strong><dt>
    <dd>Print simple statistics for dataset columns.</dd>
    
    <dt><a href="pdfdocs/extended_grid_userguide.pdf" target="_blank"><strong>extended_grid</strong></a></dt>
    <dd>non-parametric estimation on the extended grid.</dd>
    
    <dt><a href="pdfdocs/nonpb_userguide.pdf" target="_blank"><strong>nonpb</strong></a></dt>
    <dd>Non-Parametric Bootstrap</dd>
    
    <dt><a href="pdfdocs/nonpb_userguide.pdf" target="_blank"><strong>pind</strong></a></dt>
    <dd>Individual Probabilities</dd>
    
    <dt> <strong>se_of_eta</strong></dt>
    <dd>Standard Errors of Etas</dd>
    
    <dt><a href="pdfdocs/sir_userguide.pdf" target="_blank"><strong>sir</strong></a></dt>
    <dd>Sampling importance resampling</dd>
    
  </dl>



<h3>Running a PsN script</h3>
<p>A PsN script is run by first typing its
  name on the command line (e.g. a DOS comand prompt) and then pressing
  enter, e.g.: </p>
<p> <b><tt>$ execute</tt></b></p>
<p> The above command will give you this message: </p>
<p> <b> <tt>At least one model file must be specified. Use 'execute -h' for help.</tt> </b> </p>
<p> This means that to use execute to start a NONMEM execution you must give the name of at least one
  model file. If you then enter:</p>
<p> <b> <tt>$ execute file.mod</tt> </b> </p>
<p> This will start the NONMEM execution using the model file <tt>"file.mod"</tt>. It will also create a directory called <tt>"modelfit_dirX"</tt>, where "X" is the number of the directory starting from one. The  numbers of any additional directories will  be increased by one 
  for each time you run <tt>"execute"</tt>. This makes it possible  to do multiple runs at 
  the same time in one directory. After the run you will find the  output from NONMEM in the file named <tt>"file.lst"</tt>, and any table files specified in the model file. </p>
<h4>Getting help</h4>
<p>All user-guide documents are available in the folder &quot;doc&quot; in the PsN installation package. It can be copied to a directory of choice during the PsN installation.</p>
<p>PsN also has an extensive command line help system. To get a list of available scripts enter the following command on the command line (e.g. a DOS comand prompt):</p>
<p> <b><tt>$ psn -h</tt></b></p>
<p>To get a  list of available scripts with a one-line description of each (i.e. the list at the top of this page) enter the following command on the command line:</p>
<p> <b><tt>$ psn -help</tt></b></p>
<p>.To print a one-line description of a specific script, for example &quot;vpc&quot;, enter the command:</p>
<p> <b><tt>$ psn -h vpc</tt></b></p>
<p>For more details on a spcific script, for example &quot;vpc&quot;, use the command:</p>
<p> <b><tt>$ vpc -help</tt></b></p>
<h4>Input options to PsN scripts</h4>
<p><strong>Specific options: </strong>All PsN scripts accept a set of options which allow you to modify the behaviour of the script. Please see for example, the <a href="pdfdocs/bootstrap_userguide.pdf" target="_blank">bootstrap</a> creates 200 new data sets from the original data by default. However    the number of data sets can be limited to for example 50, by changing the number in the <span class="style2">-sample</span> option in the bootstrap script.</p>
<p> <b><tt>$ bootstrap -samples=50 file.mod</tt></b> </p>
<p> The <tt>'-samples'</tt> option is unique to the bootstrap script. To get a list of the unique options available for a specific script you can use the command (e.g. for the bootstrap script):</p>
<p> <b><tt>$ bootstrap -h</tt></b> </p>
<p> To get more information about a spcific option you can use the command:</p>
<p> <b><tt>$ bootstrap -h samples</tt></b> </p>
<p><strong>Common options: </strong>The various PsN scripts share many building blocks,  and many command-line options are common to all PsN scripts. The <tt>'-threads'</tt> option is an example of a common option: </p>
<p> <b><tt>$ bootstrap -samples=50 -threads=6 file.mod</tt></b> </p>
<p> In this example the threads option makes the bootstrap utility run six NONMEM runs
  in parallel (on a cluster of computers or on multiple processors). To list all common PsN  options enter:</p>
<p> <b><tt>$ psn_options -h</tt></b> </p>
<p>These common options are described in much more detail in the <a href="pdfdocs/common_options_defaults_versions_psn.pdf" target="_blank">common options userguide</a>.</p>

<h3>PsN Directory structure</h3>
<p> PsN needs to create quite a few files to keep track of its executions as well as to enable resuming. During the execution the scripts also create many
  NONMEM model-, data- and output files. In order to keep things manageable
  we have decided to order all files in a generic directory
  structure. You will get the output summaries from the command line tools, but it
  may still be useful to orient yourself in the directory structure. You
  can, for instance, find individual NONMEM run outputs as well as logs
  from PsN. To make it a bit easier we have created <a href="directory_docs.php">The PsN Directory Guide</a>, which is a small guide to the
  structure of the directories. <tt><tt>&nbsp;</tt></tt></p>
<h3>Restarting a PsN script</h3>
<p>If a PsN script is stopped before it has finished it is possible to
  resume it from where it stopped. This is handled in PsN by the
  creation of a checkpoint after each NONMEM run. From this checkpoint
  a script can always be resumed. To resume a script the PsN
  directory created by the script that stopped must be specified. In
  addition, the options used in the run that stopped must be
  defined. The options and their values are saved in the file <tt>"command.txt"</tt> under the directory from
  which you are resuming. If, for example, a bootstrap run in a
  directory named <tt>bootstrap_dir1</tt> stopped before it was
  finished it can easily be resumed by: </p>
<p> <tt><b>$ bootstrap -samples=50 -threads=6 -directory=bootstrap_dir1</b></tt> </p>
<p> In the example above the bootstrap utility will see that a directory already exists and the information in that directory will therefore be used to continue the bootstrap run. </p>
<h4>Versions</h4>
<p> To print the version of PsN that you are using enter:</p>
<p> <tt><b>$ psn -version</b></tt> </p>
<p>If you want to use other installed versions of PsN <a href="pdfdocs/common_options_defaults_versions_psn.pdf" target="_blank">this document </a>describes how to do that. </p>
<p>To print the versions of NONMEM that PsN has access to, as defined in psn.conf, enter:</p>
<p> <tt><b>$ psn -nm_version</b></tt> </p>
<p>You can use a special NONMEM version from this list  via the option -nm_version, for example</p>
<p> <tt><b>$ execute -nm_version=vi_big file.mod</b></tt><br>
</p>
<h2>Documentation for developers and testers</h2>
The <a href="pdfdocs/developers_guide.pdf" target="_blank">developers guide</a> contain information for developers and for those in need of information
about how to run the PsN test suite.
