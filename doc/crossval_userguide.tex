\input{inputs/format_header.tex}
\guidetitle{CROSSVAL user guide}{2018-11-13}

\usepackage{hyperref}

\begin{document}

\maketitle
\newcommand{\guidetoolname}{crossval}
\tableofcontents
\newpage

\section{Introduction}

The crossval tool divides the NONMEM data set into 'groups' that are equally sized parts.
For each part i, the remaining groups-1 parts are used for estimation,
and then part i is used for prediction.

Example
\begin{verbatim}
crossval run1.mod -groups=5
\end{verbatim}

\section{Input and options}
	
\subsection{Required input}
A model file is required on the command line together with the -groups option.
\begin{optionlist}
\optname{groups}
The number of cross-validation groups in the data set.
\nextopt		
\end{optionlist}

\subsection{Optional input}
			
\begin{optionlist}
\optname{msf}
Default not set, which means prediction model\\
THETA/OMEGA/SIGMA are updated with final estimates from estimation models.
If -msf is set, instead use MSFO - MSFI to transfer parameter values from estimation models to prediction models.
\nextopt
    \optname{stratify\_on}
	Used to stratify on a certain column. The proportions of individuals
    will be kept the same for the cross validation groups as for the 
    full dataset.
    \nextopt
\end{optionlist}

\subsection{PsN common options}
For a complete list see common\_options.pdf or type psn\_options -h on the command line.

\section{Output}

The output is the file xv\_result.txt with prediction model OFVs and corresponding estimation model OFVs.

\end{document}
